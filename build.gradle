
subprojects {
  apply plugin: 'maven-publish'
  apply plugin: 'java'

  //  apply plugin: 'checkstyle'
  //  apply plugin: 'pmd'
  //  apply plugin: 'findbugs'
  //  apply plugin: 'Site'

  publishing {
    publications {
      mavenJava(MavenPublication) {
        from components.java
      }
    }

    repositories {
      maven { url "https://maven.openflexo.org/artifactory/openflexo-snapshot/" }
    }
  }

  compileJava.options.encoding = 'UTF-8'

  tasks.withType(JavaCompile) {
    options.encoding = 'UTF-8'
  }

  repositories {
    jcenter()
    maven { url "https://maven.openflexo.org/artifactory/openflexo-snapshot/" }
    maven { url "https://maven.openflexo.org/artifactory/openflexo-release/" }
    maven { url "https://maven.openflexo.org/artifactory/openflexo-deps/" }
  }

  dependencies {
    testCompile group: 'junit', name: 'junit', version: '4.+'
  }

  test {
    testLogging {
      // Show that tests are run in the command-line output
      events 'passed' //'started',
      //showStandardStreams = true
    }
  }

  if (JavaVersion.current().isJava8Compatible()) {
    allprojects {
      tasks.withType(Javadoc) {
        options.addBooleanOption('Xdoclint:none', true)
      }
    }
  }
}


allprojects {

  group='org.openflexo'
  version = '1.4-SNAPSHOT'

  apply plugin: 'project-report'

  htmlDependencyReport {
    projects = project.allprojects
  }

}
